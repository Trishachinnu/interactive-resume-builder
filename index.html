<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Interactive Resume Builder</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #eef2f3, #dbe6f6);
      margin: 0;
      padding: 30px;
    }

    h1 {
      text-align: center;
      color: #2c3e50;
    }

    .form-section, .container {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 30px;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }

    .form-section label,
    .form-section input,
    .form-section textarea {
      display: block;
      margin-bottom: 10px;
      width: 100%;
    }

    input[type="text"], input[type="email"], textarea {
      padding: 8px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }

    .template-card {
      display: inline-block;
      margin: 5px;
      padding: 10px 15px;
      background: #f0f0f0;
      border: 1px solid #ccc;
      cursor: pointer;
      border-radius: 5px;
      transition: all 0.3s ease;
    }

    .template-card:hover {
      background: #dfe6e9;
      transform: scale(1.05);
    }

    .color-option {
      width: 30px;
      height: 30px;
      border: none;
      margin: 5px;
      border-radius: 50%;
      cursor: pointer;
      outline: 1px solid #999;
    }

    button {
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      background-color: #2980b9;
      color: white;
      margin-top: 10px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #1c5980;
    }

    #resume-preview {
      background: #fff;
      padding: 25px;
      margin-top: 30px;
      border-radius: 10px;
      border: 2px solid #000;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    /* Template Themes */
    .Athens { font-family: Georgia, serif; background: #f9f9f9; }
    .Brussels { font-family: Tahoma; background: #fff; }
    .Prague { font-family: Verdana; background: #f0f8ff; }
    .Shanghai { font-family: "Courier New"; background: #fffaf0; }
    .Pantheon { font-family: "Arial Black", Gadget, sans-serif; background: #fefefe; }
    .Elegant { font-family: 'Times New Roman', Times, serif; background: #f3f3f3; }
    .Milano { font-family: "Lucida Console", Monaco, monospace; background: #eaeaea; }
    .Easy { font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif; background: #ffffff; }
    .Connery { font-family: Garamond, serif; background: #f5f5dc; }
    .Chicago { font-family: Impact, Charcoal, sans-serif; background: #f0f0f0; }

    #resume-preview h2,
    #resume-preview h3 {
      margin-bottom: 8px;
    }

    ul {
      padding-left: 20px;
    }
  </style>
</head>
<body>
  <h1>Interactive Resume Builder</h1>

  <div class="form-section">
    <label>Name: <input type="text" id="name" /></label>
    <label>Email: <input type="email" id="email" /></label>
    <label>Phone: <input type="text" id="phone" /></label>
    <label>Skills (comma-separated): <input type="text" id="skills" /></label>
    <label>Upload Profile Picture: <input type="file" id="profile-pic" accept="image/*" /></label>
    <img id="preview-img" width="100" style="display: none;" /><br/>

    <h3>Education</h3>
    <div id="education-section">
      <div class="education-item">
        <input type="text" placeholder="Institution" class="edu-institution" />
        <input type="text" placeholder="Degree" class="edu-degree" />
        <input type="text" placeholder="Years" class="edu-years" />
      </div>
    </div>
    <button type="button" onclick="addEducation()">Add More Education</button>

    <h3>Experience</h3>
    <div id="experience-section">
      <div class="experience-item">
        <input type="text" placeholder="Company" class="exp-company" />
        <input type="text" placeholder="Role" class="exp-role" />
        <input type="text" placeholder="Duration" class="exp-duration" />
      </div>
    </div>
    <button type="button" onclick="addExperience()">Add More Experience</button>

    <h3>Achievements</h3>
    <textarea id="achievements" rows="3" placeholder="Achievements (comma-separated)"></textarea>

    <h3>Certificates</h3>
    <textarea id="certificates" rows="3" placeholder="Certificates (comma-separated)"></textarea>
  </div>

  <div class="container">
    <h2>Choose Your Resume Template</h2>
    <div id="template-gallery">
      <div class="template-card" data-template="Athens">Athens</div>
      <div class="template-card" data-template="Brussels">Brussels</div>
      <div class="template-card" data-template="Prague">Prague</div>
      <div class="template-card" data-template="Shanghai">Shanghai</div>
      <div class="template-card" data-template="Pantheon">Pantheon</div>
      <div class="template-card" data-template="Elegant">Elegant</div>
      <div class="template-card" data-template="Milano">Milano</div>
      <div class="template-card" data-template="Easy">Easy</div>
      <div class="template-card" data-template="Connery">Connery</div>
      <div class="template-card" data-template="Chicago">Chicago</div>
    </div>

    <h2>Pick a Color</h2>
    <div id="color-picker">
      <button class="color-option" style="background:#333;" data-color="#333"></button>
      <button class="color-option" style="background:#0057D9;" data-color="#0057D9"></button>
      <button class="color-option" style="background:#008272;" data-color="#008272"></button>
      <button class="color-option" style="background:#F39C12;" data-color="#F39C12"></button>
      <button class="color-option" style="background:#D32F2F;" data-color="#D32F2F"></button>
    </div>

    <br/>
    <button onclick="generateResume()">Generate Resume</button>
    <button onclick="exportPDF()">Export as PDF</button>
  </div>

  <div id="resume-preview" class="Athens">
    <img id="r-img" width="100" style="display: none;" />
    <h2 id="r-name"></h2>
    <p id="r-email"></p>
    <p id="r-phone"></p>
    <p id="r-skills"></p>

    <h3>Education</h3>
    <ul id="r-education"></ul>

    <h3>Experience</h3>
    <ul id="r-experience"></ul>

    <h3>Achievements</h3>
    <ul id="r-achievements"></ul>

    <h3>Certificates</h3>
    <ul id="r-certificates"></ul>
  </div>

  <!-- html2pdf for one method -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<!-- jsPDF library (UMD build) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
  // Expose jsPDF so it's available in script.js
  window.jsPDF = window.jspdf.jsPDF;

</script>

  <script>
    const preview = document.getElementById('resume-preview');
    const templateCards = document.querySelectorAll('.template-card');
    const colorButtons = document.querySelectorAll('.color-option');

    templateCards.forEach(card => {
      card.addEventListener('click', () => {
        preview.className = '';
        preview.classList.add(card.dataset.template);
      });
    });

    colorButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        preview.style.color = btn.dataset.color;
        preview.querySelectorAll("h2,h3").forEach(h => h.style.color = btn.dataset.color);
      });
    });

    function addEducation() {
      const section = document.getElementById('education-section');
      const item = document.createElement('div');
      item.className = 'education-item';
      item.innerHTML = '<input type="text" placeholder="Institution" class="edu-institution" /> <input type="text" placeholder="Degree" class="edu-degree" /> <input type="text" placeholder="Years" class="edu-years" />';
      section.appendChild(item);
    }

    function addExperience() {
      const section = document.getElementById('experience-section');
      const item = document.createElement('div');
      item.className = 'experience-item';
      item.innerHTML = '<input type="text" placeholder="Company" class="exp-company" /> <input type="text" placeholder="Role" class="exp-role" /> <input type="text" placeholder="Duration" class="exp-duration" />';
      section.appendChild(item);
    }

    function generateResume() {
      document.getElementById('r-name').textContent = document.getElementById('name').value;
      document.getElementById('r-email').textContent = document.getElementById('email').value;
      document.getElementById('r-phone').textContent = document.getElementById('phone').value;
      document.getElementById('r-skills').textContent = 'Skills: ' + document.getElementById('skills').value;

      const edus = document.querySelectorAll('.education-item');
      const eduList = document.getElementById('r-education');
      eduList.innerHTML = '';
      edus.forEach(e => {
        const li = document.createElement('li');
        li.textContent = e.children[0].value + ', ' + e.children[1].value + ', ' + e.children[2].value;
        eduList.appendChild(li);
      });

      const exps = document.querySelectorAll('.experience-item');
      const expList = document.getElementById('r-experience');
      expList.innerHTML = '';
      exps.forEach(e => {
        const li = document.createElement('li');
        li.textContent = e.children[0].value + ', ' + e.children[1].value + ', ' + e.children[2].value;
        expList.appendChild(li);
      });

      const achList = document.getElementById('r-achievements');
      achList.innerHTML = '';
      document.getElementById('achievements').value.split(',').forEach(a => {
        const li = document.createElement('li');
        li.textContent = a.trim();
        achList.appendChild(li);
      });

      const certList = document.getElementById('r-certificates');
      certList.innerHTML = '';
      document.getElementById('certificates').value.split(',').forEach(c => {
        const li = document.createElement('li');
        li.textContent = c.trim();
        certList.appendChild(li);
      });

      const pic = document.getElementById('profile-pic').files[0];
      const rImg = document.getElementById('r-img');
      if (pic) {
        const reader = new FileReader();
        reader.onload = function(e) {
          rImg.src = e.target.result;
          rImg.style.display = 'block';
        };
        reader.readAsDataURL(pic);
      }
    }

    function exportPDF() {
      const opt = {
        margin: 0.5,
        filename: 'resume.pdf',
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2 },
        jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
      };
      html2pdf().set(opt).from(document.getElementById('resume-preview')).save();
    }
  </script>
  <script src="script.js"></script>

</body>
</html>
